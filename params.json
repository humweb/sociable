{
  "name": "Sociable",
  "tagline": "Socialite authentication and persistence layer implementation.",
  "body": "# Sociable\r\n\r\n[![Latest Version on Packagist][ico-version]][link-packagist]\r\n[![Software License][ico-license]](LICENSE.md)\r\n[![Build Status][ico-travis]][link-travis]\r\n[![Coverage Status][ico-scrutinizer]][link-scrutinizer]\r\n[![Quality Score][ico-code-quality]][link-code-quality]\r\n[![Total Downloads][ico-downloads]][link-downloads]\r\n\r\nSocialite authentication and persistence layer implementation.\r\n\r\n## Install\r\n\r\nVia Composer\r\n\r\n``` bash\r\n$ composer require humweb/sociable\r\n```\r\n\r\n**Add ServiceProvider**\r\n\r\nIn the `providers` array add the service providers for this package.\r\n ```php\r\n Humweb\\Sociable\\ServiceProvider::class\r\n ```\r\n\r\n**Publish configuration in Laravel 5**\r\n```bash  \r\n$ php artisan vendor:publish --provider=\"Humweb\\Sociable\\ServiceProvider\"\r\n```\r\n\r\n**Run database migration**\r\n```bash  \r\n$ php artisan migrate\"\r\n```\r\n\r\n**Configure user auth driver and provider configs**\r\n\r\n```php\r\n<?php\r\n\r\n// config/sociable.php\r\n\r\nreturn [\r\n\r\n    // Builtin options: laravel, sentinel\r\n    'auth_provider' => 'laravel',\r\n\r\n    // Optional provider list, mainly used to list login buttons.\r\n    'providers' => [\r\n        'google',\r\n        'github',\r\n        'twitter'\r\n    ]\r\n];\r\n```\r\n\r\n**Add `Sociable` trait to user model**\r\n```php\r\nclass User extends Authenticatable\r\n{\r\n    use Sociable;\r\n}\r\n```\r\n\r\n---\r\n\r\n## Getting started\r\n\r\nSee `Humweb\\Sociable\\Http\\Controllers\\AuthController.php` for:\r\n* OAuth login\r\n* Link third-party service to a user account\r\n\r\n##### Example AuthController (Auto-link third-party account after normal login)\r\n```php\r\n<?php\r\n\r\nclass AuthController extends Controller\r\n{\r\n    /**\r\n     * Login\r\n     */\r\n    public function getLogin(Request $request)\r\n    {\r\n\r\n        // Remove social data from session upon request\r\n        if ($request->exists('forget_social')) {\r\n            $request->session()->forget('social_link');\r\n        }\r\n\r\n        return view('login');\r\n    }\r\n\r\n\r\n    public function postLogin(Request $request)\r\n    {\r\n\r\n        // Gather credentials\r\n        $credentials = [\r\n            'username' => $request->get('username'),\r\n            'password' => $request->get('password'),\r\n        ];\r\n\r\n        if ($user = \\Auth::attempt($credentials, $remember)) {\r\n\r\n            // Check for social data in session\r\n            if ($request->session()->has('social_link')) {\r\n\r\n                // Grab data from session\r\n                $social = $request->session()->get('social_link');\r\n                $user->attachProvider($social['provider'], $social);\r\n\r\n                // Remove link data\r\n                $request->session()->forget('social_link');\r\n\r\n                return redirect()\r\n                    ->intended('/')\r\n                    ->with('success', 'Account connected to \"'.$social['provider'].'\" successfully.');\r\n            }\r\n\r\n            return redirect()->intended('/');\r\n        }\r\n\r\n        // Default error message\r\n        return back()\r\n            ->withInput()\r\n            ->withErrors('Invalid login or password.');\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n##### Example message for your login page to remove session info\r\n\r\n This can help if the user did not want to auto link the accounts after login.\r\n```\r\n@if (session()->has('social_link'))\r\n    <div class=\"alert alert-info\">\r\n        Login to link your \"{{ session('social_link.provider') }}\" and \"<Your Site>\" accounts. <br>\r\n        If this is not what you want <a href=\"/login?forget_social\">click here</a> to refresh.\r\n    </div>\r\n@endif\r\n```\r\n\r\n---\r\n\r\n## Change log\r\n\r\nPlease see [CHANGELOG](CHANGELOG.md) for more information what has changed recently.\r\n\r\n## Testing\r\n\r\n``` bash\r\n$ phpunit\r\n```\r\n\r\n## Security\r\n\r\nIf you discover any security related issues, please email :author_email instead of using the issue tracker.\r\n\r\n## Credits\r\n\r\n- [Ryan Shofner](http://github.com/ryun)\r\n\r\n## License\r\n\r\nThe MIT License (MIT). Please see [License File](LICENSE.md) for more information.\r\n\r\n[ico-version]: https://img.shields.io/packagist/v/humweb/sociable.svg?style=flat-square\r\n[ico-license]: https://img.shields.io/badge/license-MIT-brightgreen.svg?style=flat-square\r\n[ico-travis]: https://img.shields.io/travis/humweb/sociable/master.svg?style=flat-square\r\n[ico-scrutinizer]: https://img.shields.io/scrutinizer/coverage/g/humweb/sociable.svg?style=flat-square\r\n[ico-code-quality]: https://img.shields.io/scrutinizer/g/humweb/sociable.svg?style=flat-square\r\n[ico-downloads]: https://img.shields.io/packagist/dt/humweb/sociable.svg?style=flat-square\r\n\r\n[link-packagist]: https://packagist.org/packages/humweb/sociable\r\n[link-travis]: https://travis-ci.org/humweb/sociable\r\n[link-scrutinizer]: https://scrutinizer-ci.com/g/humweb/sociable/code-structure\r\n[link-code-quality]: https://scrutinizer-ci.com/g/humweb/sociable\r\n[link-downloads]: https://packagist.org/packages/humweb/sociable\r\n[link-author]: https://github.com/:author_username\r\n[link-contributors]: ../../contributors",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}